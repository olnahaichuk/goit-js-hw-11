{"version":3,"file":"commonHelpers.js","sources":["../src/img/close.png","../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEpSURBVHgBrZXtEcIgDIZTzp5/3URHcSPpJLpBXcVd+FPwiqQt1y+SUNv3DuUkvA+0SQQg5Jx7WOt8zsBYyudEmXsPuijg3bbtB1ipa/jQYQ+UZVmBpHjyprEvyBTGSjf52zwbssdchBxhTkI4c2vtTTJMxcwgw6RObZReXDycMSYBcTWuQX/6RqcMQpCmIOPNHbG30SKAgkjmU8AJBJ3PpQ5GOO2KCYVFGEaFa9J+EbCEDIAsc5SCTCkFPjWXlHWD2Jvw5MNP2b1HBEzN42OZvhMRwmURly1cCvfrszSlC41PxR6SKjQs3g4Qg6z9PpdBxsitIhWDXrPDcZCtWplHHQEhzY+AiOZ7IJz5qg5iWygK/wjfFwD+T18pdfXe37e0j07jTeTBPZYfWztI8097RKsAAAAASUVORK5CYII=\"","'use strict';\n\nimport iziToast from 'izitoast';\nimport closeImageURL from '../img/close.png';\n\nconst BASE_URL = 'https://pixabay.com';\nlet userSymbol;\n\nexport function getImages(userSymbol) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const params = new URLSearchParams({\n    q: userSymbol,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    key: '44388717-c7f861c042cec84afe94caebd',\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(url)\n    .then(res => {\n      if (!res) {\n        throw new Error('Response is not ok');\n      }\n      return res.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          maxWidth: '322px',\n          iconUrl: closeImageURL,\n          backgroundColor: '#EF4040',\n          messageColor: '#fff',\n          titleColor: '#fff',\n          theme: 'dark',\n        });\n      }\n      return data;\n    })\n    .catch(error => console.log(error));\n}\n","'use strict';\nimport simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getImages } from './pixabay-api.js';\n\nconst refs = {\n  formElem: document.querySelector('form'),\n  galleryElem: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\nrefs.loader.className = 'loader';\n\nexport function showLoader() {\n  refs.loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  refs.loader.classList.add('hidden');\n}\n\nhideLoader();\n\nconst lightbox = new simpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nrefs.formElem.addEventListener('submit', e => {\n  e.preventDefault();\n  const searchName = e.target.elements.query.value.trim();\n\n  showLoader();\n\n  refs.galleryElem.innerHTML = '';\n\n  getImages(searchName)\n    .then(data => {\n      const markup = imagesTemplate(data);\n      refs.galleryElem.innerHTML = markup;\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n\nexport function imageTemplate({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item\">\n          <a\n            class=\"gallery-link\"\n            href=\"${largeImageURL}\"\n          >\n            <img\n              class=\"gallery-image\"\n              src=\"${webformatURL}\"\n              data-source=\"${largeImageURL}\"\n              alt=\"${tags}\"\n            />\n          </a>\n          <div class=\"desc\">\n          <p class=\"desc-item\"><span class=\"desc-item-style\">Likes</span><br> ${likes}</p>\n          <p class=\"desc-item\"><span class=\"desc-item-style\">Views</span><br> ${views}</p>\n          <p class=\"desc-item\"><span class=\"desc-item-style\">Comments</span><br> ${comments}</p>\n          <p class=\"desc-item\"><span class=\"desc-item-style\">Downloads</span><br> ${downloads}</p>\n          </div>\n          \n        </li>\n  `;\n}\nexport function imagesTemplate(data) {\n  return data.hits.map(image => imageTemplate(image)).join('\\n');\n}\n"],"names":["closeImageURL","getImages","userSymbol","BASE_URL","END_POINT","params","url","res","data","iziToast","error","refs","showLoader","hideLoader","lightbox","simpleLightbox","e","searchName","markup","imagesTemplate","imageTemplate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","image"],"mappings":"6vBAAA,MAAeA,EAAA,qjBCQR,SAASC,EAAUC,EAAY,CACpC,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,IAAK,oCACT,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE7C,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,oBAAoB,EAEtC,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,IACAA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,QACV,QAAST,EACT,gBAAiB,UACjB,aAAc,OACd,WAAY,OACZ,MAAO,MACjB,CAAS,EAEIQ,EACR,EACA,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CCvCA,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,MAAM,EACvC,YAAa,SAAS,cAAc,UAAU,EAC9C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EACAA,EAAK,OAAO,UAAY,SAEjB,SAASC,GAAa,CAC3BD,EAAK,OAAO,UAAU,OAAO,QAAQ,CACvC,CAEO,SAASE,GAAa,CAC3BF,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CAEAE,IAEA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,SAAS,iBAAiB,SAAUK,GAAK,CAC5CA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,MAAM,MAAM,OAEjDJ,IAEAD,EAAK,YAAY,UAAY,GAE7BV,EAAUgB,CAAU,EACjB,KAAKT,GAAQ,CACZ,MAAMU,EAASC,EAAeX,CAAI,EAClCG,EAAK,YAAY,UAAYO,EAC7BJ,EAAS,QAAO,CACtB,CAAK,EACA,MAAMJ,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbG,GACN,CAAK,CACL,CAAC,EAEM,SAASO,EAAc,CAC5B,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA;AAAA,oBAGWN,CAAa;AAAA;AAAA;AAAA;AAAA,qBAIZC,CAAY;AAAA,6BACJD,CAAa;AAAA,qBACrBE,CAAI;AAAA;AAAA;AAAA;AAAA,gFAIuDC,CAAK;AAAA,gFACLC,CAAK;AAAA,mFACFC,CAAQ;AAAA,oFACPC,CAAS;AAAA;AAAA;AAAA;AAAA,GAK7F,CACO,SAASR,EAAeX,EAAM,CACnC,OAAOA,EAAK,KAAK,IAAIoB,GAASR,EAAcQ,CAAK,CAAC,EAAE,KAAK;AAAA,CAAI,CAC/D"}